(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{23:function(e,t,a){e.exports=a(37)},28:function(e,t,a){},30:function(e,t,a){},31:function(e,t,a){},37:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(19),s=a.n(l),i=(a(28),a(7)),c=a(8),o=a(10),u=a(9),h=a(21),m=a(1),p=a(13),f=a.n(p),d=a(16),v=a(20),y=(a(30),function(e){Object(o.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={uid:null,status:null,story:[],replyID:null,profile:{}},n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=window.document.cookie.split("=")[1];this.setState({uid:t}),fetch("/api/twitter-profile/".concat(t)).then((function(e){return e.json()})).then((function(t){e.setState({profile:t})})).catch((function(e){console.log(e)}))}},{key:"handleInput",value:function(e){this.setState({status:e.target.value})}},{key:"thread",value:function(){var e=Object(v.a)(f.a.mark((function e(){var t,a,n,r,l,s;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=window.document.cookie.split("=")[1],console.log(t),a=Object(d.a)(this.state.story),e.prev=3,a.s();case 5:if((n=a.n()).done){e.next=16;break}return r=n.value,e.next=9,fetch("/api/tweet/".concat(this.state.uid),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:r,replyID:this.state.replyID})});case 9:return l=e.sent,e.next=12,l.json();case 12:s=e.sent,this.setState({replyID:s.id_str});case 14:e.next=5;break;case 16:e.next=21;break;case 18:e.prev=18,e.t0=e.catch(3),a.e(e.t0);case 21:return e.prev=21,a.f(),e.finish(21);case 24:case"end":return e.stop()}}),e,this,[[3,18,21,24]])})));return function(){return e.apply(this,arguments)}}()},{key:"breakDownStory",value:function(){if(console.log("Story array in state is ".concat(this.state.story)),this.state.status.length<=280)this.state.story.push(this.state.status);else{var e=this.state.status.split(" ");console.log(e);var t,a="",n=!1,r=Object(d.a)(e);try{for(r.s();!(t=r.n()).done;){var l=t.value;a.length+l.length<=280?a+=l+" ":n=!0,n&&(this.state.story.push(a.substring(0,a.length-1)),a=l+" ",n=!1)}}catch(s){r.e(s)}finally{r.f()}this.state.story.push(a.substring(0,a.length-1))}}},{key:"handleOnClick",value:function(e){e.preventDefault(),this.setState({story:[]}),this.breakDownStory(),this.thread()}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"threader"},r.a.createElement("h1",null,"Threader"),r.a.createElement("p",null,"An app for writing beautiful stories as Twitter threads"),r.a.createElement("div",{className:"main"},r.a.createElement("div",{className:"profile"},r.a.createElement("img",{src:this.state.profile.profile_image,alt:this.state.profile.username}),r.a.createElement("h2",null,"@".concat(this.state.profile.handle)),r.a.createElement("h3",null,"Followers: ".concat(this.state.profile.followers," Following: ").concat(this.state.profile.friends)),r.a.createElement("h4",null,this.state.profile.user_description)),r.a.createElement("div",{className:"threader-input"},r.a.createElement("h3",null,"Hello ",this.state.profile.username,", you can type your story here"),r.a.createElement("textarea",{onChange:function(t){return e.handleInput(t)},placeholder:"Your twitter thread",rows:"8"}),r.a.createElement("div",{className:"button"},r.a.createElement("button",{onClick:function(t){return e.handleOnClick(t)}},"Tweet")))))}}]),a}(r.a.Component)),b=(a(31),function(e){Object(o.a)(a,e);var t=Object(u.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"main-section position-relative overflow-hidden p-3 p-md-5 m-md-3 landing"},r.a.createElement("div",{className:"container d-flex flex-column"},r.a.createElement("div",{className:"row my-auto"},r.a.createElement("div",{className:"col-lg-6 col-md-6 col-sm-12 pt-16 pt-lg-6 my-auto"},r.a.createElement("h1",null,"Threader"),r.a.createElement("h3",null,"An app for writing beautiful stories as twitter threads"),r.a.createElement("a",{href:"http://127.0.0.1:5000/twitter-login",className:"btn btn-lg btn-primary"},"Login With Twitter")),r.a.createElement("div",{className:"col-lg-6 col-md-12 col-sm-12 ml-auto my-auto"},r.a.createElement("img",{alt:"Illustration",src:"./images/writing-00.svg"})))))}}]),a}(r.a.Component)),E=function(e){Object(o.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={},n}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement(h.a,null,r.a.createElement(m.c,null,r.a.createElement(m.a,{path:"/main"},r.a.createElement(y,null)),r.a.createElement(m.a,{path:"/"},r.a.createElement(b,null))))}}]),a}(r.a.Component);s.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(E,null)),document.getElementById("root"))}},[[23,1,2]]]);
//# sourceMappingURL=main.0fdaf7c4.chunk.js.map